version: "3.8"

services:
  osrm:
    image: osrm/osrm-backend
    container_name: osrm
    command: osrm-routed --algorithm mld /data/north-america-latest.osrm
    ports:
      - "5000:4000"
    volumes:
      - ./data:/data   # Make sure your .osm.pbf + .osrm files are here
    restart: unless-stopped

  vroom:
    image: ghcr.io/vroom-project/vroom-docker:latest
    container_name: vroom
    command: vroom -c /config/vroom-conf.json
    ports:
      - "4000:3000"
    volumes:
      - ./config:/config
    depends_on:
      - osrm
    restart: unless-stopped
